一、系统设计目标
根据实训安排，设计并实现噪声抑制实验与语音合成系统。需要充分考虑用户体验，要求界面简洁明朗，操作简单快捷，功能实用，内容丰富。其中，噪声抑制系统支持录入使用者的音频。为达到显著效果，会对音频先进性加噪而进行降噪处理。语音合成系统可将用户输入的文字朗诵并转换成音频文件，且提供两段文字的合成转换。
二、问题描述
1、在语音合成技术中，主要分为语言分析部分和声学系统部分，也称为前端部分和后端部分，语言分析部分主要是根据输入的文字信息进行分析，生成对应的语言学规格书，想好该怎么读；声学系统部分主要是根据语音分析部分提供的语音学规格书，生成对应的音频，实现发声的功能。
2、在图像的生成、传输过程中，不可避免会受到噪声的干扰，而且有些图像噪声非常严重，图像中的噪声往往和信号交织在一起，会使图像本身的细节如边界轮廓、线条等变得模糊不清。我们需要对图像进行降噪处理，便于更高层次的图像分析与理解。如何既对图像中噪声进行合理的抑制、衰减以及去除不需要的信息，又能使有用的信息得到加强，从而便于目标或对象解释，是去噪研究的主要任务。
三、需求分析
1、噪声抑制系统：
（1）提供对音频进行转换成频谱图，让用户分析起来更加直观。
（2）可以进行录音，并将录进的音频内容保存到指定的文件夹中。
（3）同时可以对录进的音频进行添加噪音，添加研究内容。
（4）可以对录制的音频进行降噪处理，使录进的音频听起来更加清晰。
（5）可以将处理后的音频播放出来。
2、语音合成系统：
（1）提供对用户想输入的两段文字的编辑功能。
（2）可以将用户输入的两段文字合成为一段文字并将文字转换为音频信息。
（3）可以存取转换后的音频，也可以存取任意一段文字所转换的音频。
（4）可以将存取的音频播放出来
3、语音识别系统：
（1）提供对于用户输入的音频进行录制。
（2）可以将用户录入的音频存储到指定路径中并进行播放。
（3）将存储的音频识别成文字的方式进行输出。 
四、系统总体设计
1系统基本功能设计：
 
图4.1.1 基本功能图
程序可分为五个基本功能：分别为语音读取、语音识别、语音加噪、语音降噪和语音合成。
2系统功能模块划分：
 
图4.2.1 模块划分图
  在该项目中主要分为三个基本模块，分别为：
一、语音降噪：
在该模块中，用户可通过使用麦克录取音频，程序对录取的原音频先进行加噪处理并，之后可通过降噪功能完成降噪处理，将其录入用户给定的路径中并进行播放。
二、语音合成:
在该模块中，程序将给定的两段文字合成为一段，通过给定的方法将文字转化为音频文件保存到给定的路径中并进行播放。
三、语音识别：
在该模块中，程序调用麦克风对用户的音频进行录入，存储到项目的路径中，将存储的音频识别成字符的格式并输出。
3 项目特色内容：
我们发现在使用维纳滤波器对音频进行降噪时的降噪效果并不明显，于是我们使用了FFT降噪即傅里叶图像降噪来对需要处理的音频文件进行处理。为验证其降噪效果我们在原音频文件中添加了高斯白噪。
 
图4.3.1 FFT降噪流程
FFT降噪过程：
1、首先对需要处理的声音信号进行快速傅里变换。
2、将进行快速傅里叶变换得到的数据去掉需要滤波的频率。
3、进行FFT逆变换得到信号数据。
高斯白噪：
采用高斯噪音，是为了更好地模拟未知的真实噪音：在真实环境中，噪音往往不是由单一源头造成的，而是很多不同来源的噪音复合体。采用合成的高斯噪音，是在处理这种复杂，且不知道噪音分布为何的情况下，一个既简单又不差的近似仿真。




五、技术原理分析
1、语音合成技术原理
在语音合成系统中。我们使用了pyttsx3语料库来对文字类型的输入进行处理得到音频文件。在这个库中，定义了两个函数ttsSpeak函数和ttsSaveToFile函数。其中ttsSpeak的方法将文字朗读，而ttsSaveToFile中的方法将输入的文字转换成音频文件并保存。
2、语音识别技术原理
语音识别技术设计中通过使用ASRT接口。ASRT语音识别系统在声学特征的提取上，使用的既不是大家所熟知的MFCC算法，也不是FBank(或LogFBank)算法，而是一种语谱图特征。
语谱图特征是有别于mfcc和logfBank特征的另一种声学特征，与其说是提取特征，不如说是仅仅对声音信号进行预处理。传统的MFCC特征、fBank和logfBank等特征在傅里叶变换后，都存在各种类型人工设计的滤波器，如Mel滤波器。这些基于人工特征算法的语音特征提取，会造成频域中的语音信号，尤其是高频区域的信号，其声音信息的损失会比较大。而那些传统语音特征提取算法，在时域上还存在着非常大的时间窗偏移，其目的是用来降低运算量，所以也会导致声音信息的损失问题，尤其是说话人语速较快时。
3、FFT降噪技术原理
快速傅里叶变换是离散傅里叶的一种快速计算方法。
运算中的某些DFT项可以进行合并，然后通过对称性和周期性的利用，就可以将原本为长序的DFT进行序列分解，最终成为短序。快速傅里叶变换（FFT）正是TukeyJW巧对WN因子对称性及周期性特点的有效利用，最后构成了DFT的快速运算方法FFT，至于FFT的基本算法问题，目前归类两大类，即按频率抽取法与时间抽取法两种，时间抽取法的英文名称DIT，频率抽取法为DIF，如果N=2L为序列长度，且L数值取整数的时候，通常叫做基2FFT，这种方法在目前来说也是普遍使用的一种算法。
低频余弦信号是上述进行了噪声信号加入后的基础信号，而噪声则是随机提取的高频信号，对本噪音信号进行降噪所使用的基本方法与思想是，对噪音部分进行对高频部分内容的抑制，将低频信号进行保留，如此来完成降噪目标。FFT降噪要进行多个步骤，具体内容如下：
（1）进行对信号内容部分的FFT运算。
（2）在频谱的基础上，进行对出现在信号内的噪声部分的印制。
（3）基于变换后的频谱基础上，对其进行傅里叶逆变换，从而获取降噪后的信号。
六、详细设计与实现
1.软件详细设计  
 
图6.1.1 FFT降噪
	




在FFT降噪模块中，点击进入后初始化处理界面，选择开始录音，录音完成后会提醒录音成功，用户可选择直接播放音频。也可以选择对音频进行加噪处理，加噪后，可进行直接播放，也可以对语音进行降噪处理，并直接播放出来。
       
图6.1.2 语音识别
	



在语音识别模块中，点击进入后初始化处理界面，选择开始录音，录音完成后会提醒录音存取成功，之后用户可分别选择播放语音或将语音识别成文字。
   
图6.1.3 语音合成
	





在语音合成模块中，点击进入后初始化处理界面，选择输入文字，合成完成后会提醒合成成功，之后用户可分别进行存储音频1、存储音频2、存储合成音频，后播放音频。

